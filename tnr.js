var Inst=function(i1,i2){var S=this;S.constructor=Inst,S._S=[],i1&&i2&&"string"==typeof i1&&"function"==typeof i2?S.add(i1,i2):i1&&!i2&&"function"==typeof i1&&S.add(i1)};Inst.prototype.add=function(a1,a2){var _S=this._S;a1&&!a2&&"function"==typeof a1?_S.push({n:"f_"+_S.length,f:a1}):a1&&a2&&"string"==typeof a1&&"function"==typeof a2&&_S.push({n:a1,f:a2})},Inst.prototype.set=function(a1,a2){var S=this,_S=this._S;if(a1&&a2&&"string"==typeof a1&&"function"==typeof a2){var fo=!1;if(_S.length>0)for(var i=0;i<_S.length;i++)_S[i].n==a1&&(_S[i]={n:a1,f:a2},fo=!0),i!=_S.length-1||fo||S.add(a1,a2);else S.add(a1,a2)}else a1&&!a2&&"function"==typeof a1&&S.add(a1)},Inst.prototype.get=function(arg){var _S=this._S,result=[];if(arg)for(var cell="string"==typeof arg?"n":"f",i=0;i<_S.length;i++)_S[i][cell]==arg&&result.push(_S[i]);else result=result.concat(_S);return result},Inst.prototype.drop=function(arg){if(arg)for(var N="string"==typeof arg?"n":"f",i=this._S.length;i>0;i--)this._S[i-1][N]==arg&&this._S.splice(i-1,1);else this._S=[]},Inst.prototype.run=function(t,ff,cb){for(var _S=this._S,t=t?t:!1,ff=ff?ff:!1,i=0;i<_S.length;i++)ff?ff(_S[i].n,i)&&_S[i].f(t,_S[i].n):_S[i].f(t,_S[i].n),cb&&i==_S.length-1&&cb()},Inst.prototype.clone=function(){for(var S=new this.constructor,i=0;i<this._S.length;i++)S._S.push(this._S[i]);return S};var tnr=tnr||{};!function(){tnr.audio=function(S){var A=this;A.DOM=document.getElementById(S),A.ctx=new AudioContext,A.anl=A.ctx.createAnalyser(),A.src=A.ctx.createMediaElementSource(A.DOM),A.src.connect(A.ctx.destination),A.src.connect(A.anl),A.currentData=new Uint8Array(A.anl.frequencyBinCount),A.getCurrentData=function(){return A.anl.getByteFrequencyData(A.currentData),A.currentData}}}();var tnr=tnr||{};!function(){tnr.canvas=new function(){var utility=this;utility.eachCtx=function(cn,cb){for(var ctx=cn.getContext("2d"),mw=cn.width,mh=Canvas.height,im=ctx.getImageData(0,0,mw,mh),pd=im.data,C=0,y=0;mh>y;y++)for(var x=0;mw>x;x++){var P={r:pd[C],g:pd[C+1],b:pd[C+2],a:pd[C+3],x:x,y:y};C+=4,cb(P)}},utility.randomHexColor=function(){return"#"+((1<<24)*Math.random()|0).toString(16)}}}();var tnr=tnr||{};!function(){tnr.fileloader=function(_selector,callback,readAs){var exempleText=' var myFileLoader = FileLoader("myInput", function(callback){ /* will run if file or files was loaded */ }, "readAsText" )';_selector||console.log("You must enter input.file ID, befor you can activete loader.\n\n"+exempleText),callback||(callback=function(){}),readAs||console.log("Please input third argument fileRider readAs mode  [ 'readAsText' / 'readAsDataURL' / 'readAsBinaryString' / 'readAsArrayBuffer' ].\n\n"+exempleText);var Loader=this;return Loader.input=!1,Loader.handleFileSelect=function(){function readFile(file,iterator){var _fr=new FileReader;_fr[readAs](file),_fr.onload=function(){file.file=_fr.result,file.num=iterator,results.push(file),filesToLoad--}}if(!(window.File&&window.FileReader&&window.FileList&&window.Blob))return void console.log("The File APIs are not fully supported in this browser.");if(Loader.input)if(Loader.input.files)if(Loader.input.files[0])if(readAs){var fr=new FileReader;if(!(readAs in fr))return void console.log("Invalid FileReader mode. Please input third argument fileRider readAs mode  [ 'readAsText' / 'readAsDataURL' / 'readAsBinaryString' / 'readAsArrayBuffer' ]");for(var currentFile,Length=Loader.input.files.length,filesToLoad=Length,results=[],_i=0;currentFile=Loader.input.files[_i];_i++)readFile(currentFile,_i);var waiter=setInterval(function(){0==filesToLoad&&(Loader.onLoad(results),clearInterval(waiter))},10)}else console.log("Please input third argument fileRider readAs mode  [ 'readAsText' / 'readAsDataURL' / 'readAsBinaryString' / 'readAsArrayBuffer' ]");else console.log("Please select a file before clicking 'Load'");else console.log("!browser not supporty `files` ");else console.log(" !file element")},Loader.onLoad=function(results){callback(results)},Loader.setListener=function(selector){Loader.input&&Loader.input.removeEventListener("change",Loader.handleFileSelect),Loader.selector=selector,Loader.input=document.getElementById(Loader.selector),Loader.input.addEventListener("change",Loader.handleFileSelect)},Loader.setListener(_selector),Loader}}();var tnr=tnr||{};!function(){tnr.Instruction=function(i1,i2){var S=this;S.constructor=tnr.Instruction,S._S=[],i1&&i2&&"string"==typeof i1&&"function"==typeof i2?S.add(i1,i2):i1&&!i2&&"function"==typeof i1&&S.add(i1)},tnr.Instruction.prototype.add=function(a1,a2){var _S=this._S;a1&&!a2&&"function"==typeof a1?_S.push({n:"f_"+_S.length,f:a1}):a1&&a2&&"string"==typeof a1&&"function"==typeof a2&&_S.push({n:a1,f:a2})},tnr.Instruction.prototype.set=function(a1,a2){var S=this,_S=this._S;if(a1&&a2&&"string"==typeof a1&&"function"==typeof a2){var fo=!1;if(_S.length>0)for(var i=0;i<_S.length;i++)_S[i].n==a1&&(_S[i]={n:a1,f:a2},fo=!0),i!=_S.length-1||fo||S.add(a1,a2);else S.add(a1,a2)}else a1&&!a2&&"function"==typeof a1&&S.add(a1)},tnr.Instruction.prototype.get=function(n){var _S=this._S;if(!n)return _S;for(var i=0;i<_S.length;i++)if(_S[i].n==n)return _S[i];return!1},tnr.Instruction.prototype.run=function(t,ff,cb){for(var _S=this._S,t=t?t:!1,ff=ff?ff:!1,i=0;i<_S.length;i++)ff?ff(_S[i].n,i)&&_S[i].f(t,_S[i].n):_S[i].f(t,_S[i].n),cb&&i==_S.length-1&&cb()},tnr.Instruction.prototype.clone=function(){for(var S=new this.constructor,i=0;i<this._S.length;i++)S._S.push(this._S[i]);return S},tnr.Instruction.prototype.drop=function(sF){var _S=this._S;if(sF){if("string"==typeof sF)for(var i=0;i<_S.length;i++)_S[i].n==sF&&_S.splice(i,1);else if("function"==typeof sF)for(var i=0;i<_S.length;i++)_S[i].f==sF&&_S.splice(i,1)}else _S=[]}}();var tnr=tnr||{};!function(){tnr.lstorage=function(prefix){var LS=this;LS.prefix=prefix+"_"||"LS_",LS.result=function(_result,_count){var Result=function(result,count){var _R=this;_R.result=result||{},_R.count=count||0};return Result.prototype.toJSON=function(){var _R=this;for(var Key in _R.result)_R.result[Key]=JSON.parse(_R.result[Key]);return _R.result},new Result(_result,_count)}},tnr.lstorage.prototype.prefIn=function(str){var LS=this;return LS.prefix+str},tnr.lstorage.prototype.prefOut=function(str){var LS=this;return str.replace(LS.prefix,"")},tnr.lstorage.prototype.set=function(SID,dataObj){var LS=this,data=dataObj;console.log(data),localStorage.setItem(LS.prefIn(SID),data)},tnr.lstorage.prototype.get=function(SID){var LS=this,ls_item=localStorage.getItem(LS.prefIn(SID));return console.log(ls_item),ls_item?ls_item:!1},tnr.lstorage.prototype.filter=function(str,callback){var LS=this,filtered={},count=0;return LS.list(function(key,val){-1!=key.indexOf(str)&&(filtered[key]=val,count++)}),LS.result(filtered,count)},tnr.lstorage.prototype.list=function(callback){var LS=this,LS_List={},count=0;for(var Item in localStorage)0==Item.indexOf(LS.prefix)&&(callback&&callback(LS.prefOut(Item),localStorage[Item]),LS_List[LS.prefOut(Item)]=localStorage[Item],count++);return LS.result(LS_List,count)},tnr.lstorage.prototype.remove=function(SID){var LS=this,item=LS.get(SID);item&&localStorage.removeItem(LS.prefIn(SID))}}();var tnr=tnr||{};!function(){tnr.math=new function(){var utility=this;utility.toFix=function(n,fn){return parseFloat(n.toFixed(fn))},utility.distance=function(X1,Y1,X2,Y2){return Math.sqrt(Math.abs(Math.pow(X2-X1,2))+Math.abs(Math.pow(Y2-Y1,2)))},utility.get_distance=function(p1,p2){var xd=p2.x-p1.x,yd=p2.y-p1.y,zd=p1.z&&p2.z?p2.z-p1.z:0;return Math.sqrt(xd*xd+yd*yd+zd*zd)},utility.toV2=function(s,d){return Math.atan2(d.y-s.y,d.x-s.x)},utility.toDegV2=function(s,d){return 360/(2*Math.PI)*(Math.PI+utility.toV2(s,d))},utility.radNormal=function(R){return 0>R?R+=2*Math.PI:R>2*Math.PI&&(R-=2*Math.PI),R},utility.degNormal=function(D){return 0>D?D+=360:D>360&&(D-=360),D},utility.sinBetween=function(m,c){return Math.sin(1/m*c*Math.PI/2)},utility.overCenter=function(X,Y,A,R){return{x:R*Math.sin(A)+X,y:R*Math.cos(A)+Y}},utility.get_direction=function(s,d){return(-Math.PI/2+-Math.atan2(d.y-s.y,d.x-s.x)+2*Math.PI)%(2*Math.PI)},utility.positionLerp=function(c,m,p1,p2){var _l=p2-p1,s=_l/m,p=s*c+p1;return p},utility.lerpV2=function(num,x1,y1,x2,y2){for(var R=[],_i=0;num>_i;_i++)R.push([utility.toFix(utility.positionLerp(_i,num-1,x1,x2),5),utility.toFix(utility.positionLerp(_i,num-1,y1,y2),5)]);return R},utility.lerpV3=function(num,pos1,pos2){for(var R=[],_i=0;num>_i;_i++)R.push([utility.toFix(utility.positionLerp(_i,num-1,pos1.x,pos2.x),5),utility.toFix(utility.positionLerp(_i,num-1,pos1.y,pos2.y),5),utility.toFix(utility.positionLerp(_i,num-1,pos1.z,pos2.z),5)]);return R},utility.xyz_latlng=function(P){return{lt:Math.atan2(P.z,Math.sqrt(P.x*P.x+P.y*P.y)),ln:Math.atan2(P.y,P.x)}},utility.latlng_xyz=function(lt,ln,R){return{x:R*(Math.cos(lt)*Math.cos(ln)),y:R*(Math.cos(lt)*Math.sin(ln)),z:R*Math.sin(lt)}},utility.checkRadRange=function(slave,master,R){var _S=utility.radNormal(slave),_M=utility.radNormal(master);_S>_M+Math.PI?_M=2*Math.PI+_M:_M>_S+Math.PI&&(_S=2*Math.PI+_S);var H=R/2;return _M>_S-H&&_S+H>_M?{s:_S,m:_M}:!1}}}();var tnr=tnr||{};tnr.nanny=tnr.nanny||new function(){var UID=function(prefix){var p=prefix||"uid_",d=(new Date).getTime(),uuid="xxxxxxyyxxyyxxxxxxxxyyyyxxxxyyxx".replace(/[xy]/g,function(c){var r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),("x"==c?r:3&r|8).toString(32)});return p+uuid.substring(0,32)},_=_||{each:function(obj,callback){if(obj instanceof Array)for(var i=0;i<obj.length;i++)callback(obj[i],i,i);else if(obj instanceof Object)if("object"==typeof obj)for(var keys=Object.keys(obj),i=0;i<keys.length;i++)callback(obj[keys[i]],i,keys[i]);else console.warn("not object or array");else console.warn("not object or array")}},App={},Nanny=this;Nanny.deepGet=function(obj,key){for(var K=key.split("."),V=obj,_i=0;_i<K.length;_i++){var I=K[_i];V=V[I]||0===V[I]?V[I]:!1}return V},Nanny.Instruction=function(i1,i2){var S=this;S.constructor=Nanny.Instruction,S._S=[],i1&&i2&&"string"==typeof i1&&"function"==typeof i2?S.add(i1,i2):i1&&!i2&&"function"==typeof i1&&S.add(i1)},Nanny.Instruction.prototype.add=function(a1,a2){var _S=this._S;a1&&!a2&&"function"==typeof a1?_S.push({n:"f_"+_S.length,f:a1}):a1&&a2&&"string"==typeof a1&&"function"==typeof a2&&_S.push({n:a1,f:a2})},Nanny.Instruction.prototype.set=function(a1,a2){var S=this,_S=this._S;if(a1&&a2&&"string"==typeof a1&&"function"==typeof a2){var fo=!1;if(_S.length>0)for(var i=0;i<_S.length;i++)_S[i].n==a1&&(_S[i]={n:a1,f:a2},fo=!0),i!=_S.length-1||fo||S.add(a1,a2);else S.add(a1,a2)}else a1&&!a2&&"function"==typeof a1&&S.add(a1)},Nanny.Instruction.prototype.get=function(n){var _S=this._S;if(!n)return _S;for(var i=0;i<_S.length;i++)if(_S[i].n==n)return _S[i];return!1},Nanny.Instruction.prototype.drop=function(n){var _S=this._S;if(n)for(var N="string"==typeof n?"n":"f",i=0;i<_S.length;i++)_S[i][N]==n&&_S.splice(i,1);else _S=[]},Nanny.Instruction.prototype.run=function(t,ff,cb){for(var _S=this._S,t=t?t:!1,ff=ff?ff:!1,i=0;i<_S.length;i++)ff?ff(_S[i].n,i)&&_S[i].f(t,_S[i].n):_S[i].f(t,_S[i].n),cb&&i==_S.length-1&&cb()},Nanny.Instruction.prototype.clone=function(){for(var S=new this.constructor,i=0;i<this._S.length;i++)S._S.push(this._S[i]);return S},Nanny.session=function(options){var _NannySession=this;_NannySession.uid=UID("NannySession_");var options=options||{};options.zones=options.zones?options.zones:[],options.statContainer=options.statContainer?options.statContainer:!1,_NannySession.animations=new Nanny.Instruction,_NannySession.animator=function(){_NannySession.animations.run(),requestAnimationFrame(_NannySession.animator)},options.animated&&_NannySession.animator(),_NannySession.time={start:(new Date).getTime(),previous:0,current:0,gap:0,frame:0,total:function(){return _NannySession.time.current-_NannySession.time.start},fromStamp:function(stamp){return _NannySession.time.current-stamp}},_NannySession.Zone={storage:[],active:!1,last:!1,toggle:function(obj){_NannySession.Zone.last=_NannySession.Zone.active,_NannySession.Zone.active=obj},addTransition:function(){_NannySession.Zone.active.transitions++},getData:function(){for(var tempArr=[],i=0;i<_NannySession.Zone.storage.length;i++)tempArr=tempArr.concat(_NannySession.Zone.storage[i].createData());return tempArr.sort(function(a,b){return a.time<b.time?-1:a.time>b.time?1:0}),tempArr},getZipData:function(){for(var tempArr=[],i=0;i<_NannySession.Zone.storage.length;i++)tempArr=tempArr.concat(_NannySession.Zone.storage[i].createZipData());return tempArr.sort(function(a,b){return a.time<b.time?-1:a.time>b.time?1:0}),tempArr},toChart:function(){var tempArr=[];return _.each(_NannySession.Zone.storage,function(_obj){tempArr.push({name:_obj.name,time:_obj.time,transitions:_obj.transitions,distance:Math.round(_obj.mousedrag+_obj.touchdistance),click:Math.round(_obj.mousereleased+_obj.touchreleased)})}),tempArr},ini:function(){for(var i=0;i<options.zones.length;i++)_NannySession.Zone.storage[i]=new Nanny.zone(options.zones[i],_NannySession.Zone);_NannySession.Zone.active=_NannySession.Zone.storage[0],_NannySession.Zone.active.timeHistory.push((new Date).getTime())}},_NannySession.Zone.ini(),_NannySession.fixTo3=function(num){return parseFloat(num.toFixed(3))},_NannySession.getHistory=function(){var _time=_NannySession.time,fixTimeEnd=_NannySession.time.current,fixTotal=_time.total(),nZones=_NannySession.Zone.getData();if(1==nZones.length)nZones[0].duration=fixTimeEnd-_time.start,nZones[0].percent=nZones[0].duration/fixTotal;else if(2==nZones.length)nZones[0].duration=nZones[1].time-_time.start,nZones[0].percent=nZones[0].duration/fixTotal,nZones[1].duration=fixTimeEnd-nZones[1].time,nZones[1].percent=nZones[1].duration/fixTotal;else if(nZones.length>2)for(var i=0;i<nZones.length;i++)0==i?(nZones[0].duration=nZones[1].time-_time.start,nZones[0].percent=nZones[0].duration/fixTotal):nZones[i+1]?(nZones[i].duration=nZones[i+1].time-nZones[i].time,nZones[i].percent=nZones[i].duration/fixTotal):(nZones[i].duration=fixTimeEnd-nZones[i].time,nZones[i].percent=nZones[i].duration/fixTotal);var response={zones:nZones};return response},_NannySession.getH=function(){var _time=_NannySession.time,fTE=_NannySession.time.current,fT=_time.total(),NZ=_NannySession.Zone.getZipData();if(1==NZ.length)NZ[0].dr=fTE-_time.start,NZ[0].pr=NZ[0].dr/fixTotal;else if(2==NZ.length)NZ[0].dr=NZ[1].tm-_time.start,NZ[0].pr=NZ[0].dr/fT,NZ[1].dr=fTE-NZ[1].tm,NZ[1].pr=NZ[1].dr/fT;else if(NZ.length>2)for(var i=0;i<NZ.length;i++)0==i?(NZ[0].dr=NZ[1].tm-_time.start,NZ[0].pr=NZ[0].dr/fT):NZ[i+1]?(NZ[i].dr=NZ[i+1].tm-NZ[i].tm,NZ[i].pr=NZ[i].dr/fT):(NZ[i].dr=fTE-NZ[i].tm,NZ[i].pr=NZ[i].dr/fT);var response={z:NZ,h:_NannySession.heatmapGet(),t:_time};return response},_NannySession.getAllState=function(){var allState={zones:[]};return _.each(_NannySession.Zone.storage,function(obj){allState.zones.push({name:obj.name,type:obj.type,id:obj.id,timeCreate:obj.timeCreate,timeHistory:obj.timeHistory,time:obj.time,transitions:obj.transitions,mousedistance:obj.mousedistance,mousedrag:obj.mousedrag,mousereleased:obj.mousereleased,touchdistance:obj.touchdistance,touchreleased:obj.touchreleased})}),allState};var paused=!1;_NannySession.stop=function(){paused=!0;for(var i=0;i<options.zones.length;i++)_NannySession.Zone.storage[i].stop()},_NannySession.play=function(){paused=!1;for(var i=0;i<options.zones.length;i++)_NannySession.Zone.storage[i].play()},_NannySession.heatmapHistory=[],_NannySession.heatmapPoint=!1,_NannySession.heatmapGet=function(){return _NannySession.heatmapHistory},_NannySession.distance={mousegap:0,mousedistance:0,mousedrag:0,mousereleased:0,touchgap:0,touchdistance:0,touchreleased:0},_NannySession.element=document;var getDistance=function(X1,Y1,X2,Y2){return Math.sqrt(Math.abs(Math.pow(X2-X1,2))+Math.abs(Math.pow(Y2-Y1,2)))};_NannySession.element.addEventListener("mousemove",function(event){if(!paused){_NannySession.heatmapPoint=[event.clientX,event.clientY];var distance=getDistance(0,0,event.movementX,event.movementY);_NannySession.distance.mousedistance+=distance,_NannySession.Zone.active.mousedistance+=distance,(event.which||event.buttons)&&(_NannySession.distance.mousedrag+=distance,_NannySession.Zone.active.mousedrag+=distance)}}),_NannySession.element.addEventListener("mouseup",function(event){paused||(_NannySession.distance.mousereleased++,_NannySession.Zone.active.mousereleased++)});var touchstart,touchend;_NannySession.element.addEventListener("touchstart",function(event){paused||(touchstart={x:event.touches[0].clientX,y:event.touches[0].clientY})}),_NannySession.element.addEventListener("touchmove",function(event){if(!paused){_NannySession.heatmapPoint=[event.touches[0].clientX,event.touches[0].clientY],touchstart||(touchstart={x:event.touches[0].clientX,y:event.touches[0].clientY});var distance=getDistance(touchstart.x,touchstart.y,event.touches[0].clientX,event.touches[0].clientY);_NannySession.distance.touchdistance+=distance,_NannySession.Zone.active.touchdistance+=distance,touchstart={x:event.touches[0].clientX,y:event.touches[0].clientY}}}),_NannySession.element.addEventListener("touchend",function(event){if(!paused){touchend={x:event.changedTouches[0].clientX,y:event.changedTouches[0].clientY};var distance=getDistance(touchstart.x,touchstart.y,touchend.x,touchend.y);_NannySession.distance.touchdistance+=distance,_NannySession.Zone.active.touchdistance+=distance,touchend=!1,touchstart=!1,_NannySession.distance.touchreleased++,_NannySession.Zone.active.touchreleased++}}),_NannySession.Replay={storage:[],temp:{q:!1,t:!1,p:!1},setTemp:function(){_NannySession.Replay.temp.t=(new Date).getTime(),_NannySession.Replay.temp.p=[_NannySession.fixTo3(App.camera.quaternion.x),_NannySession.fixTo3(App.camera.quaternion.y),_NannySession.fixTo3(App.camera.quaternion.z),_NannySession.fixTo3(App.camera.quaternion.w)],_NannySession.Replay.temp.p=App.Markers.active.pointIndex},newMoment:function(){if(_NannySession.Replay.temp.t){var Moment=new function(){this.t1=_NannySession.Replay.temp.t,this.t2=_NannySession.time.current,this.q1=_NannySession.Replay.temp.q,this.q2=[_NannySession.fixTo3(App.camera.quaternion.x),_NannySession.fixTo3(App.camera.quaternion.y),_NannySession.fixTo3(App.camera.quaternion.z),_NannySession.fixTo3(App.camera.quaternion.w)],this.p1=_NannySession.Replay.temp.p,this.p2=App.Markers.active.pointIndex,this.tr=this.p1==this.p2?0:1};_NannySession.Replay.storage.push(Moment),_NannySession.Replay.temp={q:!1,t:!1,p:!1}}}},_NannySession.onFrame=function(){paused||(_NannySession.time.frame++,0!=_NannySession.time.current&&(_NannySession.time.previous=_NannySession.time.current),_NannySession.time.current=(new Date).getTime(),0!=_NannySession.time.previous&&(_NannySession.time.gap=_NannySession.time.fromStamp(_NannySession.time.previous)),_NannySession.Zone.active.time+=_NannySession.time.gap,_NannySession.heatmapPoint&&_NannySession.time.frame%10==0&&(_NannySession.heatmapHistory.push(_NannySession.heatmapPoint),_NannySession.heatmapPoint=!1),_NannySession.time.frame%300==0&&_NannySession.saveToStorage())},_NannySession.animations.add(function(){_NannySession.onFrame()}),window.onbeforeunload=function(){Nanny.Utility.saveToStorage(_NannySession)},_NannySession.saveToStorage=function(){Nanny.Utility.saveToStorage(_NannySession)}},Nanny.Utility={},Nanny.Utility.sortByDuration=function(arr){for(var tempArr=[],i=0;i<arr.length;i++)tempArr.push(arr[i]);return tempArr.sort(function(a,b){return a.time>b.time?-1:a.time<b.time?1:0}),tempArr},Nanny.Utility.getHistoryInDOM=function(arr){var hContainer=document.createElement("div");hContainer.classList.add("history_container"),hContainer.setAttribute("style"," position: relative ; width: 100%; height: 30px; ");for(var i=0;i<arr.length;i++){var hItem=document.createElement("div");hItem.classList.add("history_item"),hItem.setAttribute("title",arr[i].name),hItem.setAttribute("style"," float: left; display: inline-block; border: 1px solid #ccc ; height: 100%; width: "+97*arr[i].percent+"% ;"),hContainer.appendChild(hItem)}return hContainer},Nanny.Utility.saveToStorage=function(_NannySession){var toStorage={created:_NannySession.time.start,time:{start:_NannySession.time.start,end:_NannySession.time.current,total:_NannySession.time.total(),totalInSec:_NannySession.time.total()/1e3},distance:_NannySession.distance,heatmapHistory:_NannySession.heatmapHistory,history:_NannySession.getHistory(),view:{width:screen.width,height:screen.height}};localStorage.setItem(_NannySession.uid,JSON.stringify(toStorage))},Nanny.Utility.History={},Nanny.Utility.History.getData=function(arr){for(var tempArr=[],i=0;i<arr.length;i++){var nextHistoryBlock=Nanny.Utility.History.createData(arr[i]);tempArr=tempArr.concat(nextHistoryBlock)}return tempArr.sort(function(a,b){return a.time<b.time?-1:a.time>b.time?1:0}),tempArr},Nanny.Utility.History.createData=function(obj){for(var tempArr=[],i=0;i<obj.timeHistory.length;i++){var nextElement={};nextElement.time=obj.timeHistory[i],nextElement.name=obj.name,nextElement.type=obj.type,"index"in obj&&(nextElement.index=obj.index),tempArr.push(nextElement)}return tempArr},Nanny.zone=function(DOMid,Zones){var _zone=this;_zone.Zones=Zones,_zone.type="zone",_zone.name=DOMid?DOMid:"default",_zone.id=DOMid?DOMid:"empty",_zone.element=document.getElementById(DOMid),_zone.transitions=0,_zone.timeCreate=(new Date).getTime(),_zone.timeHistory=[],_zone.time=0,_zone.timeInSec=function(){return _zone.time/1e3},_zone.mousedistance=0,_zone.mousedrag=0,_zone.mousereleased=0,_zone.touchdistance=0,_zone.touchreleased=0,_zone.distance=function(){return Math.round(_zone.mousedistance+_zone.touchdistance)},_zone.drag=function(){return Math.round(_zone.mousedrag+_zone.touchdistance)},_zone.clickntouch=function(){return _zone.mousereleased+_zone.touchreleased};var enable=function(){_zone.Zones.active!=_zone&&(_zone.Zones.toggle&&_zone.Zones.toggle(_zone),_zone.timeHistory.push((new Date).getTime()))},paused=!1;_zone.stop=function(){paused=!0},_zone.play=function(){paused=!1},_zone.createZipData=function(){for(var tempArr=[],i=0;i<_zone.timeHistory.length;i++)tempArr.push({tm:_zone.timeHistory[i],nm:_zone.name,tp:_zone.type});return tempArr},_zone.createData=function(){for(var tempArr=[],i=0;i<_zone.timeHistory.length;i++)tempArr.push({time:_zone.timeHistory[i],name:_zone.name,type:_zone.type});return tempArr},_zone.element&&(_zone.element.addEventListener("mouseenter",function(event){paused||enable()}),_zone.element.addEventListener("touchstart",function(event){paused||enable()}))}};var tnr=tnr||{};!function(){tnr.timeseeker=function(ManagerName){var self=this;self.manager_name="timeseeker_"+ManagerName||"timeseeker",self.timeGap=function(time1,time2){return(time2-time1)/1e3},self.scope=[],self.start=function(name){self.scope=[],self.add(name)},self.add=function(name){self.scope.push({time:(new Date).getTime(),name:name?name:"empty"})},self.show=function(){if(0==self.scope.length)return!1;for(var startTime=self.scope[0].time,i=0;i<self.scope.length;i++){var previousTime=0===i?startTime:self.scope[i-1].time;console.log(self.manager_name+": "+self.scope[i].name,self.timeGap(previousTime,self.scope[i].time)+" s")}},self.total=function(){console.log(self.manager_name+": loading for ",self.timeGap(self.scope[0].time,self.scope[self.scope.length-1].time)+" s")}}}();var tnr=tnr||{};!function(){tnr.util=new function(){var utility=this;utility.eachInTime=function(D,A,cb,O){var _c=A.length,_i=0;!function N(){if(_c>_i)var _t=setTimeout(function(){clearTimeout(_t),cb(A[_i]),_i++,N()},D);else O&&O()}()},utility.eachInSeries=function(li,cb,oe){var ci=-1,nt=function(){ci++,li.length>ci?cb(ci,li[ci],nt):oe&&oe()};nt()},utility.once=function(ex,cb){if(ex&&cb)var wt=setInterval(function(){ex()&&(clearInterval(wt),cb())},20)},utility.deepGet=function(o,k){for(var _k=k.split("."),v=o,i=0;i<_k.length;i++){var I=_k[i];v=v[I]||0===v[I]?v[I]:!1}return v},utility.deepSort=function(A,key){function pk(V){for(var _i=0;_i<K.length;_i++){var I=K[_i];V=V[I]||0===V[I]?V[I]:!1}return V}var K=key.split(".");A.sort(function(a,b){var P={a:pk(a),b:pk(b)};return P.a&&P.b?P.a<P.b?-1:P.a>P.b?1:0:P.a&&!P.b?-1:!P.a&&P.b?1:0})},utility.uid=function(P){var p=P||"uid_",d=(new Date).getTime(),uuid="xxxxxxyyyyxxxxxx".replace(/[xy]/g,function(c){var r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),("x"==c?r:3&r|8).toString(16)});return p+uuid}}}();var tnr=tnr||{};!function(){tnr.rect=new function(){var rect=this;rect.pointIn=function(rect,point){var x1=rect[2]<rect[0]?rect[2]:rect[0],y1=rect[3]<rect[1]?rect[3]:rect[1],x2=rect[2]>rect[0]?rect[2]:rect[0],y2=rect[3]>rect[1]?rect[3]:rect[1];return point.x<x2&&point.x>=x1&&point.y<y2&&point.y>=y1?!0:!1},rect.Collision=function(rect1,rect2){var point,x1=rect1[2]<rect1[0]?rect1[2]:rect1[0],y1=rect1[3]<rect1[1]?rect1[3]:rect1[1],x2=rect1[2]>rect1[0]?rect1[2]:rect1[0],y2=rect1[3]>rect1[1]?rect1[3]:rect1[1],x3=rect2[2]<rect2[0]?rect2[2]:rect2[0],y3=rect2[3]<rect2[1]?rect2[3]:rect2[1],x4=rect2[2]>rect2[0]?rect2[2]:rect2[0],y4=rect2[3]>rect2[1]?rect2[3]:rect2[1],pointInRect=!1;return point={x:x1,y:y1},point.x<x4&&point.x>=x3&&point.y<y4&&point.y>=y3&&(pointInRect=!0),point={x:x1,y:y2},point.x<x4&&point.x>=x3&&point.y<y4&&point.y>=y3&&(pointInRect=!0),point={x:x2,y:y1},point.x<x4&&point.x>=x3&&point.y<y4&&point.y>=y3&&(pointInRect=!0),point={x:x2,y:y2},point.x<x4&&point.x>=x3&&point.y<y4&&point.y>=y3&&(pointInRect=!0),point={x:x3,y:y3},point.x<x2&&point.x>=x1&&point.y<y2&&point.y>=y1&&(pointInRect=!0),point={x:x4,y:y3},point.x<x2&&point.x>=x1&&point.y<y2&&point.y>=y1&&(pointInRect=!0),point={x:x3,y:y4},point.x<x2&&point.x>=x1&&point.y<y2&&point.y>=y1&&(pointInRect=!0),point={x:x4,y:y4},point.x<x2&&point.x>=x1&&point.y<y2&&point.y>=y1&&(pointInRect=!0),pointInRect}}}();
//# sourceMappingURL=main.js.map