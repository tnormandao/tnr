var tnr=tnr||{};!function(){tnr.audio=function(S){var A=this;A.DOM=document.getElementById(S),A.ctx=new AudioContext,A.anl=A.ctx.createAnalyser(),A.src=A.ctx.createMediaElementSource(A.DOM),A.src.connect(A.ctx.destination),A.src.connect(A.anl),A.currentData=new Uint8Array(A.anl.frequencyBinCount),A.getCurrentData=function(){return A.anl.getByteFrequencyData(A.currentData),A.currentData}}}();var tnr=tnr||{};!function(){tnr.canvas=new function(){var utility=this;utility.eachCtx=function(cn,cb){for(var ctx=cn.getContext("2d"),mw=cn.width,mh=Canvas.height,im=ctx.getImageData(0,0,mw,mh),pd=im.data,C=0,y=0;mh>y;y++)for(var x=0;mw>x;x++){var P={r:pd[C],g:pd[C+1],b:pd[C+2],a:pd[C+3],x:x,y:y};C+=4,cb(P)}},utility.randomHexColor=function(){return"#"+((1<<24)*Math.random()|0).toString(16)}}}();var tnr=tnr||{};!function(){tnr.fileloader=function(_selector,callback,readAs){var exempleText=' var myFileLoader = FileLoader("myInput", function(callback){ /* will run if file or files was loaded */ }, "readAsText" )';_selector||console.log("You must enter input.file ID, befor you can activete loader.\n\n"+exempleText),callback||(callback=function(){}),readAs||console.log("Please input third argument fileRider readAs mode  [ 'readAsText' / 'readAsDataURL' / 'readAsBinaryString' / 'readAsArrayBuffer' ].\n\n"+exempleText);var Loader=this;return Loader.input=!1,Loader.handleFileSelect=function(){function readFile(file,iterator){var _fr=new FileReader;_fr[readAs](file),_fr.onload=function(){file.file=_fr.result,file.num=iterator,results.push(file),filesToLoad--}}if(!(window.File&&window.FileReader&&window.FileList&&window.Blob))return void console.log("The File APIs are not fully supported in this browser.");if(Loader.input)if(Loader.input.files)if(Loader.input.files[0])if(readAs){var fr=new FileReader;if(!(readAs in fr))return void console.log("Invalid FileReader mode. Please input third argument fileRider readAs mode  [ 'readAsText' / 'readAsDataURL' / 'readAsBinaryString' / 'readAsArrayBuffer' ]");for(var currentFile,Length=Loader.input.files.length,filesToLoad=Length,results=[],_i=0;currentFile=Loader.input.files[_i];_i++)readFile(currentFile,_i);var waiter=setInterval(function(){0==filesToLoad&&(Loader.onLoad(results),clearInterval(waiter))},10)}else console.log("Please input third argument fileRider readAs mode  [ 'readAsText' / 'readAsDataURL' / 'readAsBinaryString' / 'readAsArrayBuffer' ]");else console.log("Please select a file before clicking 'Load'");else console.log("!browser not supporty `files` ");else console.log(" !file element")},Loader.onLoad=function(results){callback(results)},Loader.setListener=function(selector){Loader.input&&Loader.input.removeEventListener("change",Loader.handleFileSelect),Loader.selector=selector,Loader.input=document.getElementById(Loader.selector),Loader.input.addEventListener("change",Loader.handleFileSelect)},Loader.setListener(_selector),Loader}}();var tnr=tnr||{};!function(){tnr.Instruction=function(i1,i2){var S=this;S.constructor=tnr.Instruction,S._S=[],i1&&i2&&"string"==typeof i1&&"function"==typeof i2?S.add(i1,i2):i1&&!i2&&"function"==typeof i1&&S.add(i1)},tnr.Instruction.prototype.add=function(a1,a2){var _S=this._S;a1&&!a2&&"function"==typeof a1?_S.push({n:"f_"+_S.length,f:a1}):a1&&a2&&"string"==typeof a1&&"function"==typeof a2&&_S.push({n:a1,f:a2})},tnr.Instruction.prototype.set=function(a1,a2){var S=this,_S=this._S;if(a1&&a2&&"string"==typeof a1&&"function"==typeof a2){var fo=!1;if(_S.length>0)for(var i=0;i<_S.length;i++)_S[i].n==a1&&(_S[i]={n:a1,f:a2},fo=!0),i!=_S.length-1||fo||S.add(a1,a2);else S.add(a1,a2)}else a1&&!a2&&"function"==typeof a1&&S.add(a1)},tnr.Instruction.prototype.get=function(n){var _S=this._S;if(!n)return _S;for(var i=0;i<_S.length;i++)if(_S[i].n==n)return _S[i];return!1},tnr.Instruction.prototype.run=function(t,ff,cb){for(var _S=this._S,t=t?t:!1,ff=ff?ff:!1,i=0;i<_S.length;i++)ff?ff(_S[i].n,i)&&_S[i].f(t,_S[i].n):_S[i].f(t,_S[i].n),cb&&i==_S.length-1&&cb()},tnr.Instruction.prototype.clone=function(){for(var S=new this.constructor,i=0;i<this._S.length;i++)S._S.push(this._S[i]);return S},tnr.Instruction.prototype.drop=function(sF){var _S=this._S;if(sF){if("string"==typeof sF)for(var i=0;i<_S.length;i++)_S[i].n==sF&&_S.splice(i,1);else if("function"==typeof sF)for(var i=0;i<_S.length;i++)_S[i].f==sF&&_S.splice(i,1)}else _S=[]}}();var tnr=tnr||{};!function(){tnr.lstorage=function(prefix){var LS=this;LS.prefix=prefix+"_"||"LS_",LS.result=function(_result,_count){var Result=function(result,count){var _R=this;_R.result=result||{},_R.count=count||0};return Result.prototype.toJSON=function(){var _R=this;for(var Key in _R.result)_R.result[Key]=JSON.parse(_R.result[Key]);return _R.result},new Result(_result,_count)}},tnr.lstorage.prototype.prefIn=function(str){var LS=this;return LS.prefix+str},tnr.lstorage.prototype.prefOut=function(str){var LS=this;return str.replace(LS.prefix,"")},tnr.lstorage.prototype.set=function(SID,dataObj){var LS=this,data=dataObj;console.log(data),localStorage.setItem(LS.prefIn(SID),data)},tnr.lstorage.prototype.get=function(SID){var LS=this,ls_item=localStorage.getItem(LS.prefIn(SID));return console.log(ls_item),item?item:!1},tnr.lstorage.prototype.filter=function(str,callback){var LS=this,filtered={},count=0;return LS.list(function(key,val){-1!=key.indexOf(str)&&(filtered[key]=val,count++)}),LS.result(filtered,count)},tnr.lstorage.prototype.list=function(callback){var LS=this,LS_List={},count=0;for(var Item in localStorage)0==Item.indexOf(LS.prefix)&&(callback&&callback(LS.prefOut(Item),localStorage[Item]),LS_List[LS.prefOut(Item)]=localStorage[Item],count++);return LS.result(LS_List,count)},tnr.lstorage.prototype.remove=function(SID){var LS=this,item=LS.get(SID);item&&localStorage.removeItem(LS.prefIn(SID))}}();var tnr=tnr||{};!function(){tnr.math=new function(){var utility=this;utility.toFix=function(n,fn){return parseFloat(n.toFixed(fn))},utility.distance=function(X1,Y1,X2,Y2){return Math.sqrt(Math.abs(Math.pow(X2-X1,2))+Math.abs(Math.pow(Y2-Y1,2)))},utility.toV2=function(s,d){return Math.atan2(d.y-s.y,d.x-s.x)},utility.toDegV2=function(s,d){return 360/(2*Math.PI)*(Math.PI+utility.toV2(s,d))},utility.radNormal=function(R){return 0>R?R+=2*Math.PI:R>2*Math.PI&&(R-=2*Math.PI),R},utility.degNormal=function(D){return 0>D?D+=360:D>360&&(D-=360),D},utility.sinBetween=function(m,c){return Math.sin(1/m*c*Math.PI/2)},utility.overCenter=function(X,Y,A,R){return{x:R*Math.sin(A)+X,y:R*Math.cos(A)+Y}},utility.get_direction=function(s,d){return(-Math.PI/2+-Math.atan2(d.y-s.y,d.x-s.x)+2*Math.PI)%(2*Math.PI)},utility.positionLerp=function(c,m,p1,p2){var _l=p2-p1,s=_l/m,p=s*c+p1;return p},utility.lerpV2=function(num,x1,y1,x2,y2){for(var R=[],_i=0;num>_i;_i++)R.push([utility.toFix(utility.positionLerp(_i,num-1,x1,x2),5),utility.toFix(utility.positionLerp(_i,num-1,y1,y2),5)]);return R},utility.lerpV3=function(num,pos1,pos2){for(var R=[],_i=0;num>_i;_i++)R.push([utility.toFix(utility.positionLerp(_i,num-1,pos1.x,pos2.x),5),utility.toFix(utility.positionLerp(_i,num-1,pos1.y,pos2.y),5),utility.toFix(utility.positionLerp(_i,num-1,pos1.z,pos2.z),5)]);return R},utility.checkRadRange=function(slave,master,R){var _S=utility.radNormal(slave),_M=utility.radNormal(master);_S>_M+Math.PI?_M=2*Math.PI+_M:_M>_S+Math.PI&&(_S=2*Math.PI+_S);var H=R/2;return _M>_S-H&&_S+H>_M?{s:_S,m:_M}:!1}}}();var tnr=tnr||{};!function(){tnr.timeseeker=function(ManagerName){var self=this;self.manager_name="timeseeker_"+ManagerName||"timeseeker",self.timeGap=function(time1,time2){return(time2-time1)/1e3},self.scope=[],self.start=function(name){self.scope=[],self.add(name)},self.add=function(name){self.scope.push({time:(new Date).getTime(),name:name?name:"empty"})},self.show=function(){if(0==self.scope.length)return!1;for(var startTime=self.scope[0].time,i=0;i<self.scope.length;i++){var previousTime=0===i?startTime:self.scope[i-1].time;console.log(self.manager_name+": "+self.scope[i].name,self.timeGap(previousTime,self.scope[i].time)+" s")}},self.total=function(){console.log(self.manager_name+": loading for ",self.timeGap(self.scope[0].time,self.scope[self.scope.length-1].time)+" s")}}}();var tnr=tnr||{};!function(){tnr.util=new function(){var utility=this;utility.eachInTime=function(D,A,cb,O){var _c=A.length,_i=0;!function N(){if(_c>_i)var _t=setTimeout(function(){clearTimeout(_t),cb(A[_i]),_i++,N()},D);else O&&O()}()},utility.eachInSeries=function(li,cb,oe){var ci=-1,nt=function(){ci++,li.length>ci?cb(ci,li[ci],nt):oe&&oe()};nt()},utility.once=function(ex,cb){if(ex&&cb)var wt=setInterval(function(){ex()&&(clearInterval(wt),cb())},20)},utility.deepGet=function(o,k){for(var _k=k.split("."),v=o,i=0;i<_k.length;i++){var I=_k[i];v=v[I]||0===v[I]?v[I]:!1}return v},utility.deepSort=function(A,key){function pk(V){for(var _i=0;_i<K.length;_i++){var I=K[_i];V=V[I]||0===V[I]?V[I]:!1}return V}var K=key.split(".");A.sort(function(a,b){var P={a:pk(a),b:pk(b)};return P.a&&P.b?P.a<P.b?-1:P.a>P.b?1:0:P.a&&!P.b?-1:!P.a&&P.b?1:0})}}}();
//# sourceMappingURL=main.js.map